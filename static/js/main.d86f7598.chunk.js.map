{"version":3,"sources":["constant/firebase.js","component/Icons/index.js","utils/getImageName.js","utils/deleteImage.js","page/Home/index.js","utils/uploadImage.js","page/NewCategory/index.js","utils/firebase.js","provider/firebase.js","component/ProductItem/index.js","page/Product/index.js","page/NewProduct/index.js","page/Setting/index.js","App.js","index.js"],"names":["CATEGORY","PRODUCT","STORE","Edit","size","color","xmlns","viewBox","style","width","fill","d","Delete","getName","path","seprator","imageName","split","deleteImg","imgPath","fn","storage","getStorage","imgRef","ref","deleteObject","then","catch","error","console","log","alert","Home","useState","categoryData","setCategoryData","firestore","useRef","getFirestore","current","navigate","useNavigate","CategoryItem","category","onEditClick","onDeleteClick","className","onClick","src","img","alt","name","handleDeleteClick","window","confirm","categoryId","id","getImageName","categoryDoc","doc","deleteImage","deleteDoc","fetchCategory","handleEdit","localStorage","setItem","JSON","stringify","collectionQuery","collection","getDocs","docs","tempDocs","forEach","push","data","useEffect","to","map","uploadImage","file","bucketName","storageRef","Date","getTime","uploadBytes","snapshot","getDownloadURL","url","NewCategory","imageUrl","setImageUrl","isUpdating","setIsUpdating","recordToBeEdit","getItem","parse","removeItem","class","type","placeholder","defaultValue","onChange","e","value","target","prev","htmlFor","accept","preventDefault","reader","FileReader","files","onloadend","image","Image","onload","imageEvent","canvas","document","createElement","height","fraction","globalAlpha","getContext","drawImage","dataUrl","toDataURL","toBlob","blob","result","readAsDataURL","disabled","innerText","categoryRef","updateDoc","addDoc","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","FirebaseContext","createContext","Firebase","children","Provider","ProductItem","product","productClass","hideActions","objectFit","unit","currencySymbol","price","discountedPrice","Product","toggleCategory","setToggleCategory","selectedCategory","setSelectedCategory","productData","setProductData","fetchProducts","handleDelete","productId","productDoc","data-bs-toggle","aria-expanded","aria-labelledby","c","handleCategoryClick","href","p","NewProduct","handleKeyDown","key","nextElementId","dataset","nextEle","querySelector","focus","blur","handleOnChange","store","storeJson","storeRef","empty","docData","prevData","fetchStoreInfo","data-next-element-id","enterKeyHint","onKeyDown","innerHTML","prodRef","prodCollectionRef","docRef","Setting","storeData","setStoreData","isCreateStore","setIsCreateStore","logo","phone","address","lineId","inputs","querySelectorAll","Object","keys","length","setTimeout","App","aria-current","element","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d86f7598.chunk.js","sourcesContent":["export const CATEGORY = \"category\";\nexport const PRODUCT = \"product\";\nexport const STORE = \"store\";","export const Edit = ({size = 20, color=\"#015009\"}) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style={{width: size}}>\n    <path fill={color} d=\"M 18.414062 2 C 18.158188 2 17.902031 2.0974687 17.707031 2.2929688 L 16 4 L 20 8 L 21.707031 6.2929688 C 22.098031 5.9019687 22.098031 5.2689063 21.707031 4.8789062 L 19.121094 2.2929688 C 18.925594 2.0974687 18.669937 2 18.414062 2 z M 14.5 5.5 L 3 17 L 3 21 L 7 21 L 18.5 9.5 L 14.5 5.5 z\"></path>\n  </svg>\n);\n\nexport const Delete = ({size = 20, color=\"#015009\"}) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" style={{width: size}}>\n    <path fill={color} d=\"M 10 2 L 9 3 L 5 3 C 4.448 3 4 3.448 4 4 C 4 4.552 4.448 5 5 5 L 7 5 L 17 5 L 19 5 C 19.552 5 20 4.552 20 4 C 20 3.448 19.552 3 19 3 L 15 3 L 14 2 L 10 2 z M 5 7 L 5 20 C 5 21.105 5.895 22 7 22 L 17 22 C 18.105 22 19 21.105 19 20 L 19 7 L 5 7 z\"></path>\n  </svg>\n);\n","export default function getName(path, seprator = \"category-images%2F\") {\n  const imageName = path.split(seprator)[1]?.split(\"?\")[0];\n  return imageName;\n}\n","import { getStorage, ref, deleteObject } from \"firebase/storage\";\n\nexport default function deleteImg(imgPath, fn){\n\t\t\tconst storage = getStorage();      \n      const imgRef = ref(storage, imgPath);\n      // Delete the file\n      deleteObject(imgRef)\n        .then(() => {\n          // File deleted successfully\n          fn();\n        })\n        .catch((error) => {\n          // Uh-oh, an error occurred!\n\t\t\t\t\tconsole.log(error);\n\t\t\t\t\talert(\"Error while deleting...\");\n        });\n}","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  doc,\n  deleteDoc,\n} from \"firebase/firestore\";\nimport { CATEGORY, STORE } from \"../../constant/firebase\";\nimport { getStorage, ref, deleteObject } from \"firebase/storage\";\nimport \"./style.css\";\nimport { Delete, Edit } from \"../../component/Icons\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport getImageName from \"../../utils/getImageName\";\nimport deleteImage from \"../../utils/deleteImage\";\n\nexport default function Home() {\n  const [categoryData, setCategoryData] = useState([]);\n\n  const firestore = useRef(getFirestore()).current;\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    fetchCategory();\n  \n  }, []);\n\n  function CategoryItem({ category, onEditClick, onDeleteClick }) {\n    return (\n      <div className=\"category-item shadow card position-relative overflow-hidden\">\n        <div className=\"d-flex position-absolute top-0 end-0 me-1 mt-1 action-option\">\n          <div\n            className=\"rounded-circle card p-2 shadow me-2\"\n            onClick={() => onEditClick(category)}\n          >\n            <Edit />\n          </div>\n          <div\n            className=\"rounded-circle card p-2 shadow\"\n            onClick={() => onDeleteClick && onDeleteClick(category)}\n          >\n            <Delete />\n          </div>\n        </div>\n        <img src={category.img} className=\"img-fluid\" alt=\"\" />\n        <div className=\"position-absolute bottom-0 category-item-name w-100 p-2 ps-3 fw-bold text-white\">\n          {category.name}\n        </div>\n      </div>\n    );\n  }\n\n  function handleDeleteClick(category) {\n    const shouldDelete = window.confirm(\"Delete Are you sure?\");\n    if (shouldDelete) {\n      const categoryId = category.id;\n      const { img } = category;\n      const imageName = getImageName(img);\n      const categoryDoc = doc(firestore, CATEGORY, categoryId);\n      deleteImage(\"category-images/\" + imageName, () => {\n        deleteDoc(categoryDoc).then(() => {\n          fetchCategory();\n        });\n      });\n    }\n  }\n\n  function handleEdit(category) {\n    localStorage.setItem(\"record\", JSON.stringify(category));\n    navigate(\"new-category\");\n  }\n\n  function fetchCategory() {\n    const collectionQuery = collection(firestore, CATEGORY);\n    getDocs(collectionQuery).then((docs) => {\n      const tempDocs = [];\n      docs.forEach((doc) => {\n        tempDocs.push({ ...doc.data(), id: doc.id });\n      });\n      console.log({ tempDocs });\n      setCategoryData(tempDocs);\n    });\n  }\n\n  \n\n  return (\n    <div className=\"container\">\n      <div className=\"h3\">Manage Category</div>\n      <Link\n        to=\"/new-category\"\n        className=\"btn btn-secondary btn-sm rounded-pill shadow-sm mb-3 px-3\"\n      >\n        Add new Category\n      </Link>\n      <div className=\"row\">\n        {categoryData.map((doc) => (\n          <div className=\"col-md-6 mb-3\">\n            <CategoryItem\n              category={doc}\n              onDeleteClick={handleDeleteClick}\n              onEditClick={handleEdit}\n            />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { getStorage, ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\n\nexport default function uploadImage(file, fn, bucketName = \"category-images/\") {\n    const storage = getStorage();\n    const storageRef = ref(storage, bucketName + new Date().getTime());\n    uploadBytes(storageRef, file).then((snapshot) => {\n      getDownloadURL(snapshot.ref).then((url) => {\n        console.log(\"File available at\", url);\n        fn(url);\n      });\n    });\n  }","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  addDoc,\n  collection,\n  getFirestore,\n  updateDoc,\n  doc,\n} from \"firebase/firestore\";\nimport { CATEGORY } from \"../../constant/firebase\";\nimport getImageName from \"../../utils/getImageName\";\nimport deleteImage from \"../../utils/deleteImage\";\nimport uploadImage from \"../../utils/uploadImage\";\n\nexport default function NewCategory() {\n  const [imageUrl, setImageUrl] = useState({});\n  const [categoryData, setCategoryData] = useState({});\n  const firestore = useRef(getFirestore()).current;\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  function handleImageChange(e) {\n    e.preventDefault();\n\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    console.log(file.name);\n\n    reader.onloadend = () => {\n      var image = new Image();\n      image.onload = function (imageEvent) {\n        var canvas = document.createElement(\"canvas\"),\n          max_height = 200,\n          width = image.width,\n          height = image.height;\n\n        if (height > max_height) {\n          const fraction = height / max_height;\n          height = height / fraction;\n          width = width / fraction;\n        }\n        canvas.globalAlpha = 0.0001;\n        canvas.width = width;\n        canvas.height = height;\n        canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n        var dataUrl = canvas.toDataURL(\"image/png\");\n        console.log(width, height);\n        canvas.toBlob((blob) => {\n          console.log({ blob });\n          setImageUrl({\n            file: blob,\n            url: dataUrl,\n          });\n        });\n      };\n\n      image.src = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  function handleName(e) {\n    const { value } = e.target;\n    setCategoryData((prev) => ({\n      ...prev,\n      name: value,\n    }));\n  }\n\n  function handleSubmit(e) {\n    e.target.disabled = true;\n    e.target.innerText = \"Processing\";\n    const file = imageUrl.file;\n\n    uploadImage(file, (url) => {\n      addDoc(collection(firestore, CATEGORY), {\n        name: categoryData.name,\n        img: url,\n      }).then(() => {\n        e.target.disabled = false;\n        e.target.innerText = \"Create\";\n      });\n    });\n  }\n\n  function handleUpdate(e) {\n    e.target.disabled = true;\n    e.target.innerText = \"Processing\";\n    const categoryRef = doc(firestore, CATEGORY, categoryData.id);\n\n    if (imageUrl.file) {\n      const imageName = getImageName(categoryData.img);\n      deleteImage(\"category-images/\" + imageName, () => {\n        uploadImage(imageUrl.file, (url) => {\n          updateDoc(categoryRef, { name: categoryData.name, img: url }).then(\n            () => {\n              e.target.disabled = false;\n              e.target.innerText = \"Update\";\n            }\n          );\n        });\n      });\n    } else {\n      updateDoc(categoryRef, { name: categoryData.name }).then(() => {\n        e.target.disabled = false;\n        e.target.innerText = \"Update\";\n      });\n    }\n  }\n\n  useEffect(() => {\n    const recordToBeEdit = localStorage.getItem(\"record\");\n    const category = recordToBeEdit && JSON.parse(recordToBeEdit);\n    console.log({ category });\n    setCategoryData(category);\n    if (category) {\n      setIsUpdating(true);\n\t\t\tlocalStorage.removeItem(\"record\");\n    }\n  }, []);\n\n  function CategoryItem({ category }) {\n    return (\n      <div className=\"category-item shadow card position-relative overflow-hidden\">\n        <img\n          src={imageUrl.url || categoryData?.img}\n          className=\"img-fluid\"\n          alt=\"\"\n        />\n        <div className=\"position-absolute bottom-0 category-item-name w-100 p-2 ps-3 fw-bold text-white\">\n          {category?.name}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"h3\">Create New Category</div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"floatingInput\"\n          placeholder=\"Vegetables\"\n          defaultValue={categoryData?.name}\n          onChange={handleName}\n        />\n        <label htmlFor=\"floatingInput\">Name</label>\n      </div>\n      <div class=\"mb-3\">\n        <label htmlFor=\"formFile\" class=\"form-label text-muted\">\n          Category Image\n        </label>\n        <input\n          class=\"form-control\"\n          type=\"file\"\n          id=\"formFile\"\n          accept=\"image/png, image/jpeg\"\n          onChange={handleImageChange}\n        />\n      </div>\n      <div className=\"mb-3\">\n        <CategoryItem category={categoryData} />\n      </div>\n      <div className=\"d-grid\">\n        <button\n          className=\"btn btn-primary rounded-pill shadow py-2\"\n          onClick={isUpdating ? handleUpdate : handleSubmit}\n        >\n          {isUpdating ? \"Update\" : \"Create\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC8fS_63_NkbEUffRHoDn_vbsGae1SDnQI\",\n  authDomain: \"akshay-store.firebaseapp.com\",\n  projectId: \"akshay-store\",\n  storageBucket: \"akshay-store.appspot.com\",\n  messagingSenderId: \"679889779214\",\n  appId: \"1:679889779214:web:8f3d6ec62b4ff123701a5f\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport default app;","import React, { createContext } from 'react'\nimport app from '../utils/firebase';\n\nexport const FirebaseContext = createContext(null);\n\nexport default function Firebase({children}) {\n\n\tconst data = {\n\t\tapp\n\t}\n\n\treturn (\n\t\t<FirebaseContext.Provider value={data}>\n\t\t\t{children}\n\t\t</FirebaseContext.Provider>\n\t)\n}\n","import React from 'react';\nimport { Delete, Edit } from '../Icons';\n\t\nexport default function ProductItem({ product = {}, productClass=\"\", hideActions, onEditClick, onDeleteClick }) {\n    return (\n      <div class={`${productClass} border border-light shadow-sm p-3 card position-relative`}>\n\t\t\t\t{!hideActions && <div className=\"d-flex position-absolute end-0 me-2\">\n\t\t\t\t\t<div className=\"card p-2 rounded-circle me-2\" onClick={()=>onEditClick&&onEditClick(product)}>\n\t\t\t\t\t\t<Edit/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"card p-2 rounded-circle\" onClick={()=>onDeleteClick&&onDeleteClick(product)}>\n\t\t\t\t\t\t<Delete/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>}\n        <img\n          src={product.img}\n          alt=\"\"\n          class=\"product-img img-fluid\"\n\t\t\t\t\tstyle={{height: \"170px\", objectFit: \"contain\"}}\n        />\n        <div class=\"product-name h5\">{product.name}</div>\n        <div class=\"product-unit text-muted small\">{product.unit}</div>\n        <div class=\"d-flex justify-content-between1 align-items-baseline\">\n          <div class=\"product-price text-success fw-bold text-decoration-line-through small\">\n            {product.currencySymbol}{product.price}\n          </div>\n          <div class=\"text-success fw-bold ms-1\">{product.currencySymbol}{product.discountedPrice}</div>\n        </div>\n      </div>\n    );\n  }","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  deleteDoc,\n\tdoc\n} from \"firebase/firestore\";\nimport { CATEGORY, PRODUCT } from \"../../constant/firebase\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport \"./style.css\";\nimport ProductItem from \"../../component/ProductItem\";\n\nexport default function Product() {\n  const [toggleCategory, setToggleCategory] = useState(false);\n  const [categoryData, setCategoryData] = useState([]);\n  const firestore = useRef(getFirestore()).current;\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [productData, setProductData] = useState([]);\n\tconst navigate = useNavigate();\n\n  function handleCategoryClick(c) {\n    setToggleCategory(false);\n    console.log({ c });\n    setSelectedCategory(c);\n    localStorage.setItem(\"category\", JSON.stringify(c));\n  }\n\n  useEffect(fetchCategory, []);\n\n  useEffect(fetchProducts, [selectedCategory]);\n\n  function fetchCategory() {\n    const collectionQuery = collection(firestore, CATEGORY);\n    getDocs(collectionQuery).then((docs) => {\n      const tempDocs = [];\n      docs.forEach((doc) => {\n        tempDocs.push({ ...doc.data(), id: doc.id });\n      });\n      console.log({ tempDocs });\n      setCategoryData(tempDocs);\n    });\n  }\n\n  function fetchProducts() {\n    if (!selectedCategory || !selectedCategory.id) return;\n    const collectionQuery = collection(\n      firestore,\n      CATEGORY + \"/\" + selectedCategory.id + \"/\" + PRODUCT\n    );\n    getDocs(collectionQuery).then((docs) => {\n      const tempDocs = [];\n      docs.forEach((doc) => {\n        tempDocs.push({ ...doc.data(), id: doc.id });\n      });\n      console.log({ tempDocs });\n      setProductData(tempDocs);\n    });\n  }\n\n  function handleDelete(product) {\n    const shouldDelete = window.confirm(\"Delete Are you sure?\");\n    if (shouldDelete) {\n      const productId = product.id;\n      const productDoc = doc(firestore, `${CATEGORY}/${selectedCategory.id}/${PRODUCT}`, productId);\n      deleteDoc(productDoc).then(() => {\n        fetchProducts();\n      });\n    }\n  }\n\n\tfunction handleEdit(product){\n\t\tlocalStorage.setItem(\"product\", JSON.stringify(product));\n\t\tnavigate(\"/new-product\");\n\t} \n\n  return (\n    <div className=\"container\">\n      <div className=\"small my-2\">Please select a category</div>\n      <div class=\"dropdown mb-3\">\n        <button\n          class=\"btn btn-success dropdown-toggle\"\n          type=\"button\"\n          id=\"dropdownMenuButton1\"\n          data-bs-toggle=\"dropdown\"\n          aria-expanded=\"false\"\n          onClick={() => {\n            setToggleCategory((prev) => !prev);\n          }}\n        >\n          {selectedCategory ? selectedCategory.name : \"Select Category\"}\n        </button>\n        <ul\n          class={`dropdown-menu ${toggleCategory && \"show\"}`}\n          aria-labelledby=\"dropdownMenuButton1\"\n        >\n          {categoryData.map((c) => (\n            <li onClick={() => handleCategoryClick(c)}>\n              <div class=\"dropdown-item\" href=\"#\">\n                {c.name}\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n\n      {selectedCategory && (\n        <>\n          <div className=\"h3\">Products of \"{selectedCategory.name}\"</div>\n          <Link\n            to=\"/new-product\"\n            className=\"btn btn-sm btn-outline-success mb-3\"\n          >\n            Add new Product\n          </Link>\n        </>\n      )}\n      <div className=\"row\">\n        {productData.map((p) => (\n          <ProductItem\n            product={p}\n            productClass={\"col-6 rounded-0\"}\n            onDeleteClick={handleDelete}\n\t\t\t\t\t\tonEditClick={handleEdit}\n\t\t\t\t\t/>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport ProductItem from \"../../component/ProductItem\";\nimport {\n  collection,\n  addDoc,\n  getFirestore,\n  updateDoc,\n  doc,\n  getDocs,\n} from \"firebase/firestore\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CATEGORY, PRODUCT, STORE } from \"../../constant/firebase\";\n\nexport default function NewProduct() {\n  const [productData, setProductData] = useState(\n    localStorage.getItem(\"product\")\n      ? JSON.parse(localStorage.getItem(\"product\"))\n      : {}\n  );\n  const [isUpdating, setIsUpdating] = useState(\n    localStorage.getItem(\"product\") ? true : false\n  );\n  const firestore = useRef(getFirestore()).current;\n  const navigate = useNavigate();\n  const category = useRef(\n    localStorage.getItem(\"category\") &&\n      JSON.parse(localStorage.getItem(\"category\"))\n  ).current;\n\n  function handleKeyDown(e) {\n    console.log({ e });\n    if (e.key === \"Enter\") {\n      const { nextElementId } = e.target.dataset;\n\n      const nextEle = document.querySelector(`#${nextElementId}`);\n\n      nextEle ? nextEle.focus() : e.target.blur();\n    }\n  }\n\n  function handleOnChange(e) {\n    const { name, value } = e.target;\n    setProductData((prev) => ({ ...prev, [name]: value }));\n  }\n\n  function handleImageChange(e) {\n    e.preventDefault();\n\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    console.log(file.name);\n\n    reader.onloadend = () => {\n      var image = new Image();\n      image.onload = function (imageEvent) {\n        var canvas = document.createElement(\"canvas\"),\n          max_height = 200,\n          width = image.width,\n          height = image.height;\n\n        if (height > max_height) {\n          const fraction = height / max_height;\n          height = height / fraction;\n          width = width / fraction;\n        }\n        canvas.globalAlpha = 0.0001;\n\n        canvas.width = width;\n        canvas.height = height;\n        canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n        var dataUrl = canvas.toDataURL(\"image/png\");\n        console.log(width, height);\n        canvas.toBlob((blob) => {\n          console.log({ blob });\n          // setImageUrl({\n          //   file: blob,\n          //   url: dataUrl,\n          // });\n          setProductData((prev) => ({ ...prev, img: dataUrl }));\n        });\n      };\n\n      image.src = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  function handleSubmit(e) {\n    e.target.disabled = true;\n    e.target.innerHTML = `<span class=\"spinner-border spinner-border-sm text-light\" role=\"status\"></span> Processing`;\n    console.log({ productData });\n    if (isUpdating) {\n      const prodRef = doc(\n        firestore,\n        `${CATEGORY}/${category.id}/${PRODUCT}`,\n        productData.id\n      );\n      updateDoc(prodRef, productData).then(() => {\n        // setProductData({});\n        e.target.disabled = false;\n        e.target.innerHTML = \"Update\";\n      });\n    } else {\n      const prodCollectionRef = collection(\n        firestore,\n        `${CATEGORY}/${category.id}/${PRODUCT}`\n      );\n      addDoc(prodCollectionRef, productData).then((docRef) => {\n        setProductData({});\n        e.target.disabled = false;\n        e.target.innerHTML = \"Add\";\n      });\n    }\n  }\n\n  function fetchStoreInfo() {\n    const storeRef = collection(firestore, STORE);\n\n    getDocs(storeRef).then((docs) => {\n      // console.log(docs.docs[0]);\n      if (!docs.empty) {\n        const docData = docs.docs[0];\n        const data = {\n          ...docData.data(),\n          id: docData.id,\n        };\n        console.log(data);\n        localStorage.setItem(\"store\", JSON.stringify(data));\n        setProductData((prev) => {\n          const prevData = { ...prev };\n          if (!prev?.currencySymbol) {\n            prevData.currencySymbol = data.currencySymbol;\n          }\n          return prevData;\n        });\n      } else {\n        navigate(\"/setting\");\n      }\n    });\n  }\n\n  useEffect(() => {\n    localStorage.removeItem(\"product\");\n    const store = localStorage.getItem(\"store\");\n    if (store)\n      setProductData((prev) => {\n        const data = { ...prev };\n        if (!prev?.currencySymbol) {\n          const storeJson = JSON.parse(store);\n          data.currencySymbol = storeJson.currencySymbol;\n        }\n        return data;\n      });\n    else fetchStoreInfo();\n  }, []);\n\n  if (!category) {\n    navigate(\"/products\");\n    return null;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"h3 d-flex align-items-baseline small\">\n        {isUpdating ? \"Updating\" : \"Add New\"} Product{\" \"}\n        <div className=\"ms-1 small\">in \"{category?.name}\"</div>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"productName\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Vegetables\"\n          defaultValue={productData.name}\n          onChange={handleOnChange}\n          name=\"name\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"productName\">Name</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"productPrice\"\n          data-next-element-id=\"productDiscount\"\n          placeholder=\"Vegetables\"\n          defaultValue={productData.price}\n          onChange={handleOnChange}\n          name=\"price\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"productPrice\">Price</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"productDiscount\"\n          data-next-element-id=\"priceUnit\"\n          placeholder=\"Vegetables\"\n          defaultValue={productData.discountedPrice}\n          onChange={handleOnChange}\n          name=\"discountedPrice\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"productDiscount\">Discounted Price</label>\n      </div>\n      <div className=\"row\">\n        <div className=\"col-6\">\n          <div class=\"form-floating mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"priceUnit\"\n              data-next-element-id=\"priceCurrencySymbol\"\n              placeholder=\"Vegetables\"\n              defaultValue={productData.unit}\n              onChange={handleOnChange}\n              name=\"unit\"\n              enterKeyHint=\"done\"\n              onKeyDown={handleKeyDown}\n            />\n            <label htmlFor=\"priceUnit\">Unit</label>\n          </div>\n        </div>\n        <div className=\"col-6\">\n          <div class=\"form-floating mb-3\">\n            <input\n              type=\"text\"\n              class=\"form-control\"\n              id=\"priceCurrencySymbol\"\n              placeholder=\"Vegetables\"\n              defaultValue={productData.currencySymbol}\n              onChange={handleOnChange}\n              name=\"currencySymbol\"\n              enterKeyHint=\"done\"\n              onKeyDown={handleKeyDown}\n            />\n            <label htmlFor=\"priceCurrencySymbol\">Currecy Symbol</label>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label htmlFor=\"formFile\" class=\"form-label text-muted small\">\n          Product Image\n        </label>\n        <input\n          class=\"form-control\"\n          type=\"file\"\n          id=\"formFile\"\n          accept=\"image/png, image/jpeg\"\n          onChange={handleImageChange}\n        />\n      </div>\n\n      <div className=\"mb-3\">\n        <div className=\"small text-muted\">Preview</div>\n        <ProductItem product={productData} productClass=\"col-6\" hideActions />\n      </div>\n\n      <div className=\"d-grid mb-3\">\n        <button\n          className=\"btn btn-success py-2 shadow-sm rounded-pill\"\n          onClick={handleSubmit}\n        >\n          {isUpdating ? \"Update\" : \"Add\"}\n        </button>\n      </div>\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  getFirestore,\n  getDocs,\n  collection,\n  updateDoc,\n  doc,\n  addDoc,\n} from \"firebase/firestore\";\nimport { STORE } from \"../../constant/firebase\";\nimport './style.css';\n\nexport default function Setting() {\n  const [storeData, setStoreData] = useState({});\n  const [isCreateStore, setIsCreateStore] = useState(false);\n  const firestore = useRef(getFirestore()).current;\n\n  function handleOnChange(e) {\n    const { value, name } = e.target;\n\n    setStoreData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  }\n\n  function handleKeyDown() {}\n\n  useEffect(fetchStoreInfo, []);\n\n  function fetchStoreInfo() {\n    const storeRef = collection(firestore, STORE);\n\n    getDocs(storeRef).then((docs) => {\n      // console.log(docs.docs[0]);\n      if (!docs.empty) {\n        const docData = docs.docs[0];\n        const data = {\n          ...docData.data(),\n          id: docData.id,\n        };\n        console.log(data);\n        setStoreData(data);\n      } else setIsCreateStore(true);\n    });\n  }\n\n  function handleUpdate(e) {\n    const inputs = document.querySelectorAll(\"input\");\n    console.log(Object.keys(storeData).length - 1 < inputs.length, inputs);\n    // if((Object.keys(storeData).length - 1) < inputs.length){\n    // \treturn alert(\"All fields are mandatory.\");\n    // }\n\n    e.target.disabled = true;\n    e.target.innerHTML = `<span class=\"spinner-border spinner-border-sm text-light\" role=\"status\"></span> Processing`;\n\n    if (isCreateStore) {\n      const storeRef = collection(firestore, STORE);\n      addDoc(storeRef, storeData).then(() => {\n        fetchStoreInfo();\n        e.target.innerHTML = `Done`;\n        setTimeout(() => {\n          e.target.disabled = false;\n          e.target.innerHTML = `Update`;\n        }, 3000);\n      });\n    } else {\n      const storeRef = doc(firestore, STORE, storeData.id);\n      updateDoc(storeRef, storeData).then(() => {\n        fetchStoreInfo();\n\n        e.target.innerHTML = `Done`;\n        setTimeout(() => {\n          e.target.disabled = false;\n          e.target.innerHTML = `Update`;\n        }, 3000);\n      });\n    }\n  }\n\n  function handleImageChange(e) {\n    let reader = new FileReader();\n    let file = e.target.files[0];\n    console.log(file.name);\n\n    reader.onloadend = () => {\n      var image = new Image();\n      image.onload = function (imageEvent) {\n        var canvas = document.createElement(\"canvas\"),\n          max_height = 200,\n          width = image.width,\n          height = image.height;\n\n        if (height > max_height) {\n          const fraction = height / max_height;\n          height = height / fraction;\n          width = width / fraction;\n        }\n        canvas.globalAlpha = 0.0001;\n\n        canvas.width = width;\n        canvas.height = height;\n        canvas.getContext(\"2d\").drawImage(image, 0, 0, width, height);\n        var dataUrl = canvas.toDataURL(\"image/png\");\n        console.log(width, height);\n        canvas.toBlob((blob) => {\n          console.log({ blob });\n          // setImageUrl({\n          //   file: blob,\n          //   url: dataUrl,\n          // });\n          setStoreData((prev) => ({ ...prev, logo: dataUrl }));\n        });\n      };\n\n      image.src = reader.result;\n    };\n\n    reader.readAsDataURL(file);\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"h3 d-flex align-items-baseline\">Store Information</div>\n      <div class=\"mb-3\">\n        <label htmlFor=\"formFile\" class=\"form-label text-muted small\">\n          Store Logo\n        </label>\n        <div className=\"row\">\n          <div className=\"col-3\">\n            <div className=\"\">\n\t\t\t\t\t\t{storeData?.logo && <img src={storeData.logo} className=\"store-logo\" alt=\"logo\" />}\n\t\t\t\t\t\t</div>\n          </div>\n          <div className=\"col-9\">\n            <input\n              class=\"form-control\"\n              type=\"file\"\n              id=\"formFile\"\n              accept=\"image/png, image/jpeg\"\n              onChange={handleImageChange}\n            />\n          </div>\n        </div>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"storeName\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Vegetables\"\n          defaultValue={storeData?.name}\n          onChange={handleOnChange}\n          name=\"name\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"storeName\">Name</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"storePhone\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Vegetables\"\n          defaultValue={storeData?.phone}\n          onChange={handleOnChange}\n          name=\"phone\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"storePhone\">Phone</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"storeAddress\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Vegetables\"\n          defaultValue={storeData?.address}\n          onChange={handleOnChange}\n          name=\"address\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"storeAddress\">Address</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"storeAddress\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Basic Id\"\n          defaultValue={storeData?.lineId}\n          onChange={handleOnChange}\n          name=\"lineId\"\n          enterKeyHint=\"next\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"storeAddress\">Line Basic ID</label>\n      </div>\n      <div class=\"form-floating mb-3\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"storeCurrencySymbol\"\n          data-next-element-id=\"productPrice\"\n          placeholder=\"Vegetables\"\n          defaultValue={storeData?.currencySymbol}\n          onChange={handleOnChange}\n          name=\"currencySymbol\"\n          enterKeyHint=\"done\"\n          onKeyDown={handleKeyDown}\n        />\n        <label htmlFor=\"storeCurrencySymbol\">Currency Symbol</label>\n      </div>\n      <div className=\"d-grid mb-5\">\n        <button\n          className=\"btn btn-success shadow rounded-pill py-2\"\n          onClick={handleUpdate}\n        >\n          Update\n        </button>\n      </div>\n    </div>\n  );\n}\n","import \"./App.css\";\nimport { HashRouter as Router, Routes, Route, NavLink } from \"react-router-dom\";\nimport Home from \"./page/Home\";\nimport NewCategory from \"./page/NewCategory\";\nimport Firebase from \"./provider/firebase\";\nimport Product from \"./page/Product\";\nimport NewProduct from \"./page/NewProduct\";\nimport Setting from \"./page/Setting\";\n\nfunction App() {\n  return (\n    <Firebase>\n      <div className=\"\">\n        <Router>\n          <nav\n            className=\"navbar navbar-dark\n\t\t\t\t bg-success\"\n          >\n            <div className=\"container\">\n              <div className=\"d-flex \">\n                <div className=\"nav-item\">\n                  <NavLink\n                    className=\"nav-link text-white\"\n                    aria-current=\"page\"\n                    to=\"/\"\n                  >\n                    Home\n                  </NavLink>\n                </div>\n                <div className=\"nav-item\">\n                  <NavLink\n                    className=\"nav-link\"\n                    aria-current=\"page\"\n                    to=\"/products\"\n                  >\n                    Products\n                  </NavLink>\n                </div>\n                <div className=\"nav-item\">\n                  <NavLink\n                    className=\"nav-link\"\n                    aria-current=\"page\"\n                    to=\"/setting\"\n                  >\n                    Setting\n                  </NavLink>\n                </div>\n              </div>\n            </div>\n          </nav>\n          <Routes>\n            <Route path=\"/\" element={<Home />} />\n            <Route path=\"/new-category\" element={<NewCategory />} />\n            <Route path=\"/products\" element={<Product />} />\n            <Route path=\"/new-product\" element={<NewProduct />} />\n            <Route path=\"/setting\" element={<Setting />} />\n          </Routes>\n        </Router>\n      </div>\n    </Firebase>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}